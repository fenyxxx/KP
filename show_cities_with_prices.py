# -*- coding: utf-8 -*-
import sqlite3

# Примерные цены на детские билеты в плацкарте от Нового Уренгоя (в рублях)
# Основано на веб-поиске и приблизительных расчетах
TRAIN_PRICES = {
    'Брест': 7500,  # Дальнее западное направление
    'Волгоград': 5500,  # Южное направление через Москву
    'г. Владивосток': 12000,  # Дальний восток
    'г. Воронеж': 5000,  # Центральная Россия
    'г. Дружинино': 2700,  # Ближнее направление (из поиска)
    'г. Екатеринбург': 3035,  # Урал (из поиска)
    'г. Звенигово (пос.)': 4500,  # Марий Эл, среднее расстояние
    'г. Ижевск': 4200,  # Удмуртия
    'г. Калининград': 8500,  # Анклав, через другие страны
    'г. Казань': 4500,  # Татарстан
    'г. Кемерово': 4000,  # Кузбасс
    'г. Кисловодск': 7000,  # Северный Кавказ
    'г. Киров': 4000,  # Кировская область
    'г. Краснодарский край': 6500,  # Краснодарский край
    'г. Курган': 3500,  # Зауралье
    'г. Нефтекамск': 4000,  # Башкортостан
    'г. Нижний Новгород': 4500,  # Приволжье
    'г. Омск': 3200,  # Западная Сибирь
    'г. Новокузнецк': 4200,  # Кемеровская область
    'г. Пермь': 3800,  # Пермский край
    'г. Ростов-на-Дону': 6500,  # Южная Россия
    'г. Самара': 4700,  # Поволжье
    'г. Саранск': 4800,  # Мордовия
    'г. Саров': 4600,  # Нижегородская область
    'г. Североморск': 7500,  # Мурманская область
    'г. Севастополь': 8000,  # Крым
    'г. Северо Енисейск': 5500,  # Красноярский край
    'г. Северск город': 4500,  # Томская область
    'г. Сочи Адлер': 7500,  # Черноморское побережье
    'г. Тверь': 5000,  # Центральная Россия
    'г. Томск': 4000,  # Томская область
    'г. Тюмень': 2800,  # Ближняя Тюменская область
    'г. Улан-Удэ': 7000,  # Бурятия, Восточная Сибирь
    'г. Уфа': 4200,  # Башкортостан
    'г. Челябинск': 3500,  # Южный Урал
    'г. Ярославль': 4800,  # Центральная Россия
    'г.Владикавказ': 7500,  # Северная Осетия
    'г.Горно-Алтайск': 5500,  # Республика Алтай
    'г.Новосибирск': 4270,  # Западная Сибирь (плацкарт ~50% от 8539)
    'г.Санкт Петербург': 5500,  # Северо-Запад (через Москву)
    'г.Санкт-Петербург': 5500,  # Дубликат
    'г.Уфа': 4200,  # Дубликат
    'Крым': 8000,  # Крым
    'Московская область': 3559,  # Москва и область (из поиска для Москвы)
    'МО Кинельский': 4700,  # Самарская область
    'с Усинск': 3500,  # Республика Коми
    'г. Чита': 8000,  # Забайкалье
}

db = sqlite3.connect('calendar_plans.db')
cursor = db.cursor()

cursor.execute("""
    SELECT DISTINCT location 
    FROM events 
    WHERE event_type = 'Выездное' 
    ORDER BY location
""")

cities = cursor.fetchall()
db.close()

print(f"Примерная стоимость детского билета в плацкарте (в одну сторону) от Нового Уренгоя")
print(f"{'='*90}")
print(f"Всего направлений: {len(cities)}\n")

total_estimate = 0
for i, (city,) in enumerate(cities, 1):
    price = TRAIN_PRICES.get(city, 5000)  # По умолчанию 5000 руб, если нет данных
    total_estimate += price
    print(f"{i:2}. {city:30} - {price:>6,} руб.".replace(',', ' '))

print(f"\n{'='*90}")
print(f"Средняя стоимость билета: {total_estimate // len(cities):,} руб.".replace(',', ' '))
print(f"\nПримечания:")
print(f"- Цены приблизительные, основаны на веб-поиске и расчетах по расстоянию")
print(f"- Детский билет обычно составляет 50% от стоимости взрослого")
print(f"- Фактическая стоимость зависит от даты, сезона и наличия мест")
print(f"- Рекомендуется уточнять цены на сайте РЖД или у билетных агентств")

